<table>
    <caption>Player Statistics</caption>
    <thead>
        <tr>
            <th>&nbsp;</th>
            <th colspan="3">Throw Results</th>
            <th>&nbsp;</th>
            <th>&nbsp;</th>
        </tr>
        <tr>
            <th>Player</th>
            <th>Cornhole</th>
            <th>On Board</th>
            <th>Miss</th>
            <th>Total</th>
            <th>CR</th>
            <th>SR</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let player of game.team1.players" [attr.color-scheme]="game.team1.teamColor.colorScheme"
            class="bag">
            <ng-container [ngTemplateOutlet]="statRow"
                [ngTemplateOutletContext]="{name: player.name, stats: player.stats}"></ng-container>
        </tr>
        <tr *ngIf="game.team1.players.length > 1" [attr.color-scheme]="game.team1.teamColor.colorScheme" class="bag">
            <ng-container [ngTemplateOutlet]="statRow"
                [ngTemplateOutletContext]="{name: 'Total', stats: game.team1.stats}"></ng-container>
        </tr>
        <tr *ngFor="let player of game.team2.players" [attr.color-scheme]="game.team2.teamColor.colorScheme"
            class="bag">
            <ng-container [ngTemplateOutlet]="statRow"
                [ngTemplateOutletContext]="{name: player.name, stats: player.stats}"></ng-container>
        </tr>
        <tr *ngIf="game.team2.players.length > 1" [attr.color-scheme]="game.team2.teamColor.colorScheme" class="bag">
            <ng-container [ngTemplateOutlet]="statRow"
                [ngTemplateOutletContext]="{name: 'Total', stats: game.team2.stats}"></ng-container>
        </tr>
    </tbody>
    <tfoot>
        <tr>
            <td colspan="6">&nbsp;</td>
        </tr>
    </tfoot>
</table>

<ng-template #statRow let-stats="stats" let-name="name">
    <td>{{name}}</td>
    <td class="stat">{{stats?.throwResults[throwResult.Cornhole]}}</td>
    <td class="stat">{{stats?.throwResults[throwResult.OnBoard]}}</td>
    <td class="stat">{{stats?.throwResults[throwResult.OffBoard]}}</td>
    <td class="stat">{{stats?.totalThrows}}</td>
    <td class="stat">{{stats?.cornholeRate | percent: '1.1-1'}}</td>
    <td class="stat">{{stats?.scoringRate | number: '1.2-2'}}</td>
</ng-template>