{"ast":null,"code":"import { TeamColor } from './models/team-color';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./services/game.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/material/button\";\nimport * as i4 from \"./components/game/game.component\";\nimport * as i5 from \"./components/game-setup/game-setup.component\";\nfunction AppComponent_ch_game_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ch-game\", 3);\n    i0.ɵɵlistener(\"completeRound\", function AppComponent_ch_game_0_Template_ch_game_completeRound_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onCompleteRound($event));\n    })(\"roundScoreChanged\", function AppComponent_ch_game_0_Template_ch_game_roundScoreChanged_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.onRoundScoreChanged($event));\n    })(\"roundChanged\", function AppComponent_ch_game_0_Template_ch_game_roundChanged_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.onRoundChanged($event));\n    })(\"teamColorChanged\", function AppComponent_ch_game_0_Template_ch_game_teamColorChanged_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.onTeamColorChanged($event));\n    })(\"completeGame\", function AppComponent_ch_game_0_Template_ch_game_completeGame_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.onCompleteGame($event));\n    })(\"resetStats\", function AppComponent_ch_game_0_Template_ch_game_resetStats_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.onResetStats($event));\n    })(\"resetStreak\", function AppComponent_ch_game_0_Template_ch_game_resetStreak_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.onResetStreak($event));\n    })(\"resetGame\", function AppComponent_ch_game_0_Template_ch_game_resetGame_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.onResetGame($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"game\", ctx_r0.game)(\"activeRound\", ctx_r0.activeRound);\n  }\n}\nfunction AppComponent_ch_game_setup_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ch-game-setup\");\n  }\n}\nfunction AppComponent_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function AppComponent_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.createNewGame());\n    });\n    i0.ɵɵtext(1, \"New Game\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(gameService) {\n      this.gameService = gameService;\n    }\n    ngOnInit() {\n      this.game = this.gameService.getGames()?.find(x => !x.complete);\n      if (this.game) {\n        this.gameService.loadGame(this.game);\n        this.activeRound = this.game.rounds[this.game.rounds.length - 1];\n      } else {\n        this.createNewGame();\n      }\n    }\n    createNewGame() {\n      this.gameService.clearData();\n      // const player1 = this.gameService.createPlayer('Chad');\n      // const player2 = this.gameService.createPlayer('Nancy');\n      // const player3 = this.gameService.createPlayer('Molly');\n      // const player4 = this.gameService.createPlayer('Elizabeth');\n      // const team1 = this.gameService.createTeam([player1, player2]);\n      // const team2 = this.gameService.createTeam([player3, player4]);\n      // this.game = this.gameService.createGame(team1, team2);\n      const player1 = this.gameService.createPlayer('Blue Team');\n      const player2 = this.gameService.createPlayer('Red Team');\n      // const player3 = this.gameService.createPlayer('Molly');\n      // const player4 = this.gameService.createPlayer('Elizabeth');\n      const team1 = this.gameService.createTeam([player1], 1, new TeamColor('Blue', 'blue', 'white'));\n      const team2 = this.gameService.createTeam([player2], 2, new TeamColor('Red', 'red', 'white'));\n      this.game = this.gameService.createGame(team1, team2);\n      this.activateLastRound(this.game);\n    }\n    onRoundChanged(round) {\n      this.activeRound = round;\n    }\n    onCompleteRound(game) {\n      this.gameService.completeRound(game);\n      this.activateLastRound(game);\n    }\n    activateLastRound(game) {\n      setTimeout(() => this.activeRound = game.rounds ? game.rounds[game.rounds.length - 1] : null, 400);\n    }\n    onRoundScoreChanged(round) {\n      this.gameService.roundScoreChanged(round);\n    }\n    onTeamColorChanged(team) {\n      this.gameService.updateTeamColor(team);\n    }\n    onCompleteGame(game) {\n      this.gameService.completeGame(game);\n      // this.game = null;\n      this.game = this.gameService.createGame(game.team1, game.team2);\n      this.activateLastRound(this.game);\n      // this.createNewGame();\n    }\n\n    onResetStats(game) {\n      this.gameService.resetStats(game);\n    }\n    onResetStreak(game) {\n      this.gameService.resetStreak(game);\n    }\n    onResetGame(game) {\n      this.game = this.gameService.resetGame(game);\n    }\n  }\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.GameService));\n  };\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"ch-root\"]],\n    decls: 3,\n    vars: 3,\n    consts: [[3, \"game\", \"activeRound\", \"completeRound\", \"roundScoreChanged\", \"roundChanged\", \"teamColorChanged\", \"completeGame\", \"resetStats\", \"resetStreak\", \"resetGame\", 4, \"ngIf\"], [4, \"ngIf\"], [\"mat-button\", \"\", 3, \"click\", 4, \"ngIf\"], [3, \"game\", \"activeRound\", \"completeRound\", \"roundScoreChanged\", \"roundChanged\", \"teamColorChanged\", \"completeGame\", \"resetStats\", \"resetStreak\", \"resetGame\"], [\"mat-button\", \"\", 3, \"click\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, AppComponent_ch_game_0_Template, 1, 2, \"ch-game\", 0);\n        i0.ɵɵtemplate(1, AppComponent_ch_game_setup_1_Template, 1, 0, \"ch-game-setup\", 1);\n        i0.ɵɵtemplate(2, AppComponent_button_2_Template, 2, 0, \"button\", 2);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.game);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.game);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.game);\n      }\n    },\n    dependencies: [i2.NgIf, i3.MatButton, i4.GameComponent, i5.GameSetupComponent]\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}